<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Guide to Using Salesforce Flows for Cross Object Validation | Pavan Chavali</title><meta name=keywords content="automation,salesforce,salesforce-development"><meta name=description content="Salesforce consistently enhances Flows with each release, transforming them into a more robust and user-friendly feature. These improvements simplify usage and effectively address complex requirements that cannot be met through declarative means.
Did you know you can now implement cross-object validation rules without writing Apex code?
Until now, if you needed to check related records, like verifying their existence or displaying error messages to prevent record deletion in specific scenarios, or developers had to rely on Apex code."><meta name=author content><link rel=canonical href=https://pchavali09.github.io/posts/guide-to-using-salesforce-flows-for-cross-object-validation/><link crossorigin=anonymous href=/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css integrity="sha256-NDzEgLn/yPBMy+XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as=style><link rel=icon href=https://pchavali09.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://pchavali09.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://pchavali09.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://pchavali09.github.io/apple-touch-icon.png><link rel=mask-icon href=https://pchavali09.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://pchavali09.github.io/posts/guide-to-using-salesforce-flows-for-cross-object-validation/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><style>@import 'https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700&family=Roboto:wght@300;400;500;700&family=JetBrains+Mono:wght@400&display=swap';body{font-family:roboto,-apple-system,BlinkMacSystemFont,sans-serif!important;font-size:18px;line-height:1.7}h1,h2,h3,h4,h5,h6,.entry-title,.first-entry-title{font-family:space grotesk,sans-serif!important;font-weight:700;letter-spacing:-.03em}code,pre,kbd,samp{font-family:jetbrains mono,monospace!important;font-size:15px}.post-content{font-weight:400}</style><meta property="og:url" content="https://pchavali09.github.io/posts/guide-to-using-salesforce-flows-for-cross-object-validation/"><meta property="og:site_name" content="Pavan Chavali"><meta property="og:title" content="Guide to Using Salesforce Flows for Cross Object Validation"><meta property="og:description" content="Salesforce consistently enhances Flows with each release, transforming them into a more robust and user-friendly feature. These improvements simplify usage and effectively address complex requirements that cannot be met through declarative means.
Did you know you can now implement cross-object validation rules without writing Apex code?
Until now, if you needed to check related records, like verifying their existence or displaying error messages to prevent record deletion in specific scenarios, or developers had to rely on Apex code."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-03-10T00:00:00+00:00"><meta property="article:modified_time" content="2024-03-10T00:00:00+00:00"><meta property="article:tag" content="Automation"><meta property="article:tag" content="Salesforce"><meta property="article:tag" content="Salesforce-Development"><meta property="og:image" content="https://cdn-images-1.medium.com/max/800/0*6i69eJ2WQkRv7TWv"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://cdn-images-1.medium.com/max/800/0*6i69eJ2WQkRv7TWv"><meta name=twitter:title content="Guide to Using Salesforce Flows for Cross Object Validation"><meta name=twitter:description content="Salesforce consistently enhances Flows with each release, transforming them into a more robust and user-friendly feature. These improvements simplify usage and effectively address complex requirements that cannot be met through declarative means.
Did you know you can now implement cross-object validation rules without writing Apex code?
Until now, if you needed to check related records, like verifying their existence or displaying error messages to prevent record deletion in specific scenarios, or developers had to rely on Apex code."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://pchavali09.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Guide to Using Salesforce Flows for Cross Object Validation","item":"https://pchavali09.github.io/posts/guide-to-using-salesforce-flows-for-cross-object-validation/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Guide to Using Salesforce Flows for Cross Object Validation","name":"Guide to Using Salesforce Flows for Cross Object Validation","description":"Salesforce consistently enhances Flows with each release, transforming them into a more robust and user-friendly feature. These improvements simplify usage and effectively address complex requirements that cannot be met through declarative means.\nDid you know you can now implement cross-object validation rules without writing Apex code?\nUntil now, if you needed to check related records, like verifying their existence or displaying error messages to prevent record deletion in specific scenarios, or developers had to rely on Apex code.\n","keywords":["automation","salesforce","salesforce-development"],"articleBody":"Salesforce consistently enhances Flows with each release, transforming them into a more robust and user-friendly feature. These improvements simplify usage and effectively address complex requirements that cannot be met through declarative means.\nDid you know you can now implement cross-object validation rules without writing Apex code?\nUntil now, if you needed to check related records, like verifying their existence or displaying error messages to prevent record deletion in specific scenarios, or developers had to rely on Apex code.\nIn the Winter ‚Äô24 release, Salesforce introduced a valuable feature: Custom Error Messages as a Flow Element. This feature offers administrators and developers a practical solution to improve error handling and guide users effectively through Salesforce Flows. Let‚Äôs delve into the details of this feature, understand how to utilize it, consider important factors, and explore an illustrative example.\nUse Case¬†Scenario The requirement is to make certain address fields on the Account object conditionally required based on the billing country selected. Specifically, either the State/Province field or the Postal Code/Zip Code field should be required based on the selected billing country. Additionally, in some cases, both the State/Province and Postal Code/Zip Code fields may need to be required.\nTraditionally, you‚Äôd handle this by creating a complex Validation Rule using nested AND, OR statements or CASE functions to check the selected country and set validation criteria for State/Province and Postal Code/Zip Code fields. Another option is using an Apex trigger. But using Validation Rules can be tricky because they‚Äôre hard to maintain, especially when you need to change or update certain criteria.\nLet‚Äôs see how this can be solved using a record-trigger Flow.\nCustom Metadata Type\nCreate a Custom Metadata Type tailored for storing essential details like Country name, State/Province requirement, and Zip Code requirement. Next, simplify data import by uploading a CSV file containing information for the 50+ countries directly into the Custom Metadata Type.\nBelow is a sample of the CSV file.\nName Country__c Zip_Required__c State_Required__c CA Canada No Yes US United States Yes No IN India Yes Yes Flow Design\nCreate a Record Trigger flow on Account object, that‚Äôs triggered when a record is created or updated that‚Äôs optimized for fast field updates and no conditions. Then add a Get Record element that references to the above created CMTD with country name equals to record‚Äôs BillingCountry.\nAdd a Decision element with condition outcomes to check and compare if Zip or State or both are required when a specific field on Account is null.\nNow it‚Äôs time to add the Custom Error element! For each of the decision outcome, add Custom Error element. Here are a couple of screenshots of Custom Error element.\nEither the error message can be displayed as an inline error or in a window. Note that you can add multiple error messages for one Custom Error element.\n![](https://cdn-images-1.medium.com/max/1000/1*Agf9RXnRI1BM6vFPw7x4jg.png align=‚Äúcenter‚Äù)\n![](https://cdn-images-1.medium.com/max/400/1*mx8jDd7mkD8GkdYErhea-g.png align=‚Äúcenter‚Äù)\nSave and Activate the flow.Flow with Custom Error¬†Element\n![Flow with Custom Error¬†Element](https://cdn-images-1.medium.com/max/1200/1*i1pjqeKgfKf7ByaMICDFJw.gif align=‚Äúcenter‚Äù)\nVoil√†! You have now added a custom error without a single line of Apex code or a complex Validation Rule! Now let‚Äôs test this out.\n![Custom Error Validation on New Account¬†creation](https://cdn-images-1.medium.com/max/1200/1*HvY8VQ_HauBbxRt1AmZJyg.gif align=‚Äúcenter‚Äù)\nConsiderations A Custom Error element can contain only one record page error message. To create another record page error message in the same flow, use another Custom error element.\nA field can have only one error message, but each field can have an error message.\nCompound fields aren‚Äôt supported.\nIf an executed fault path has a Custom Error element, the change that triggered the flow is rolled back.\nCustom error messages use the same functionality as the addError() Id method in Apex.\n","wordCount":"604","inLanguage":"en","image":"https://cdn-images-1.medium.com/max/800/0*6i69eJ2WQkRv7TWv","datePublished":"2024-03-10T00:00:00Z","dateModified":"2024-03-10T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://pchavali09.github.io/posts/guide-to-using-salesforce-flows-for-cross-object-validation/"},"publisher":{"@type":"Organization","name":"Pavan Chavali","logo":{"@type":"ImageObject","url":"https://pchavali09.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://pchavali09.github.io/ accesskey=h title="Pavan Chavali (Alt + H)">Pavan Chavali</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://pchavali09.github.io/posts/ title=Blog><span>Blog</span></a></li><li><a href=https://pchavali09.github.io/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://pchavali09.github.io/about/ title="About Me"><span>About Me</span></a></li><li><a href=https://pchavali09.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://pchavali09.github.io/>Home</a>&nbsp;¬ª&nbsp;<a href=https://pchavali09.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Guide to Using Salesforce Flows for Cross Object Validation</h1><div class=post-meta><span title='2024-03-10 00:00:00 +0000 UTC'>March 10, 2024</span>&nbsp;¬∑&nbsp;<span>3 min</span></div></header><figure class=entry-cover><img loading=eager src=https://cdn-images-1.medium.com/max/800/0*6i69eJ2WQkRv7TWv alt="Cover Image"></figure><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><ul><li></li><li><a href=#considerations>Considerations</a></li></ul></li></ul></nav></div></details></div><div class=post-content><p>Salesforce consistently enhances Flows with each release, transforming them into a more robust and user-friendly feature. These improvements simplify usage and effectively address complex requirements that cannot be met through declarative means.</p><p>Did you know you can now implement cross-object validation rules without writing Apex code?</p><p>Until now, if you needed to check related records, like verifying their existence or displaying error messages to prevent record deletion in specific scenarios, or developers had to rely on Apex code.</p><p>In the Winter ‚Äô24 release, Salesforce introduced a valuable feature: Custom Error Messages as a Flow Element. This feature offers administrators and developers a practical solution to improve error handling and guide users effectively through Salesforce Flows. Let‚Äôs delve into the details of this feature, understand how to utilize it, consider important factors, and explore an illustrative example.</p><h4 id=use-casescenario><strong>Use Case¬†Scenario</strong><a hidden class=anchor aria-hidden=true href=#use-casescenario>#</a></h4><p>The requirement is to make certain address fields on the Account object conditionally required based on the billing country selected. Specifically, either the State/Province field or the Postal Code/Zip Code field should be required based on the selected billing country. Additionally, in some cases, both the State/Province and Postal Code/Zip Code fields may need to be required.</p><p>Traditionally, you‚Äôd handle this by creating a complex Validation Rule using nested AND, OR statements or CASE functions to check the selected country and set validation criteria for State/Province and Postal Code/Zip Code fields. Another option is using an Apex trigger. But using Validation Rules can be tricky because they‚Äôre hard to maintain, especially when you need to change or update certain criteria.</p><p>Let‚Äôs see how this can be solved using a record-trigger Flow.</p><p><strong>Custom Metadata Type</strong></p><p>Create a Custom Metadata Type tailored for storing essential details like Country name, State/Province requirement, and Zip Code requirement. Next, simplify data import by uploading a CSV file containing information for the 50+ countries directly into the Custom Metadata Type.</p><p>Below is a sample of the CSV file.</p><table><thead><tr><th>Name</th><th>Country__c</th><th>Zip_Required__c</th><th>State_Required__c</th></tr></thead><tbody><tr><td>CA</td><td>Canada</td><td>No</td><td>Yes</td></tr><tr><td>US</td><td>United States</td><td>Yes</td><td>No</td></tr><tr><td>IN</td><td>India</td><td>Yes</td><td>Yes</td></tr></tbody></table><p><strong>Flow Design</strong></p><p>Create a Record Trigger flow on Account object, that‚Äôs triggered when a record is created or updated that‚Äôs optimized for fast field updates and no conditions. Then add a Get Record element that references to the above created CMTD with country name equals to record‚Äôs BillingCountry.</p><p>Add a Decision element with condition outcomes to check and compare if Zip or State or both are required when a specific field on Account is null.</p><p>Now it‚Äôs time to add the Custom Error element! For each of the decision outcome, add Custom Error element. Here are a couple of screenshots of Custom Error element.</p><p>Either the error message can be displayed as an inline error or in a window. Note that you can add multiple error messages for one Custom Error element.</p><p>![](<a href=https://cdn-images-1.medium.com/max/1000/1>https://cdn-images-1.medium.com/max/1000/1</a>*Agf9RXnRI1BM6vFPw7x4jg.png align=&ldquo;center&rdquo;)</p><p>![](<a href=https://cdn-images-1.medium.com/max/400/1>https://cdn-images-1.medium.com/max/400/1</a>*mx8jDd7mkD8GkdYErhea-g.png align=&ldquo;center&rdquo;)</p><p>Save and Activate the flow.Flow with Custom Error¬†Element</p><p>![Flow with Custom Error¬†Element](<a href=https://cdn-images-1.medium.com/max/1200/1>https://cdn-images-1.medium.com/max/1200/1</a>*i1pjqeKgfKf7ByaMICDFJw.gif align=&ldquo;center&rdquo;)</p><p>Voil√†! You have now added a custom error without a single line of Apex code or a complex Validation Rule! Now let‚Äôs test this out.</p><p>![Custom Error Validation on New Account¬†creation](<a href=https://cdn-images-1.medium.com/max/1200/1>https://cdn-images-1.medium.com/max/1200/1</a>*HvY8VQ_HauBbxRt1AmZJyg.gif align=&ldquo;center&rdquo;)</p><h3 id=considerations>Considerations<a hidden class=anchor aria-hidden=true href=#considerations>#</a></h3><ul><li><p>A Custom Error element can contain only one record page error message. To create another record page error message in the same flow, use another Custom error element.</p></li><li><p>A field can have only one error message, but each field can have an error message.</p></li><li><p>Compound fields aren‚Äôt supported.</p></li><li><p>If an executed fault path has a Custom Error element, the change that triggered the flow is rolled back.</p></li><li><p>Custom error messages use the same functionality as the addError() Id method in Apex.</p></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://pchavali09.github.io/tags/automation/>Automation</a></li><li><a href=https://pchavali09.github.io/tags/salesforce/>Salesforce</a></li><li><a href=https://pchavali09.github.io/tags/salesforce-development/>Salesforce-Development</a></li></ul><nav class=paginav><a class=prev href=https://pchavali09.github.io/posts/improve-partner-collaboration-using-salesforce-master-user-automation/><span class=title>¬´ Prev</span><br><span>Improve Partner Collaboration Using Salesforce: Master User Automation</span>
</a><a class=next href=https://pchavali09.github.io/posts/unveiling-the-power-of-salesforce-experience-cloud-in-digital-transformation-43a2c0abd91b/><span class=title>Next ¬ª</span><br><span>Unveiling the Power of Salesforce Experience Cloud in Digital Transformation</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://pchavali09.github.io/>Pavan Chavali</a></span> ¬∑
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg></a><div class=newsletter-box style="background:var(--entry);border:1px solid var(--border);border-radius:var(--radius);padding:40px;margin:60px auto;text-align:center;max-width:700px"><h3 style="margin-top:0;font-family:space grotesk,sans-serif;font-size:24px">üì© Join the Architecture & AI Newsletter</h3><p style=color:var(--secondary);margin-bottom:25px;font-size:16px>Get notified when I publish new guides on Salesforce, Mulesoft, and AI Agents.</p><script>(function(e,t,n,s,o,i,a){e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},i=t.createElement(n),i.async=1,i.src=s,a=t.getElementsByTagName(n)[0],a.parentNode.insertBefore(i,a)})(window,document,"script","https://assets.mailerlite.com/js/universal.js","ml"),ml("account","1944348")</script><div class=ml-embedded data-form=tppu9y></div><p style=font-size:13px;color:var(--secondary);margin-top:20px;opacity:.7>Zero spam. Unsubscribe anytime.</p></div><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>