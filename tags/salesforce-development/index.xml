<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>Salesforce-Development on Pavan's Blog</title><link>https://pchavali09.github.io/tags/salesforce-development/</link><description>Recent content in Salesforce-Development on Pavan's Blog</description><generator>Hugo -- 0.152.2</generator><language>en-us</language><lastBuildDate>Sun, 15 Jun 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://pchavali09.github.io/tags/salesforce-development/index.xml" rel="self" type="application/rss+xml"/><item><title>Using the "Changes Since" Filter for Better Salesforce Pipeline Inspection</title><link>https://pchavali09.github.io/posts/changes-since-filter-salesforce-pipeline-inspection/</link><pubDate>Sun, 15 Jun 2025 00:00:00 +0000</pubDate><guid>https://pchavali09.github.io/posts/changes-since-filter-salesforce-pipeline-inspection/</guid><description>&lt;p&gt;Ever found yourself staring at your Salesforce Pipeline Inspection dashboard, scratching your head? You know a deal moved, but it’s not showing up where you expect it to. Or perhaps it appears under “This Week” but vanishes when you select “2 Weeks Ago”?&lt;/p&gt;
&lt;p&gt;If that sounds familiar, you’re not alone. Pipeline Inspection is a powerful tool for sales leaders and reps, offering dynamic insights into pipeline health. But its “Changes Since” filter, particularly how it calculates “Moved In” and “Moved Out” opportunities, can sometimes feel like a magic trick. Today, we’re pulling back the curtain on that magic, using a real-world scenario to explain exactly what’s going on.&lt;/p&gt;</description><content:encoded><![CDATA[<p>Ever found yourself staring at your Salesforce Pipeline Inspection dashboard, scratching your head? You know a deal moved, but it’s not showing up where you expect it to. Or perhaps it appears under “This Week” but vanishes when you select “2 Weeks Ago”?</p>
<p>If that sounds familiar, you’re not alone. Pipeline Inspection is a powerful tool for sales leaders and reps, offering dynamic insights into pipeline health. But its “Changes Since” filter, particularly how it calculates “Moved In” and “Moved Out” opportunities, can sometimes feel like a magic trick. Today, we’re pulling back the curtain on that magic, using a real-world scenario to explain exactly what’s going on.</p>
<h3 id="first-a-quick-recap-the-coreconcepts">First, A Quick Recap: The Core Concepts</h3>
<p>Before we dive into the puzzle, let’s ensure we’re on the same page with two fundamental Salesforce concepts:</p>
<ol>
<li>
<p><strong>Close Date:</strong> This is the anticipated (for open deals) or actual (for closed deals) date by which an opportunity is expected to be won or lost. It’s the heartbeat of your sales forecast.</p>
</li>
<li>
<p><strong>Pipeline Inspection’s “Changes Since” Filter:</strong> This ingenious filter shows you how your opportunities have evolved from a specific point in time up to the present. It tracks changes to amounts, stages, forecast categories, and critically for our discussion: opportunities that have “Moved In” or “Moved Out” of your chosen forecast period.</p>
</li>
</ol>
<h3 id="the-curious-case-of-the-elusive-opportunity">The Curious Case of the Elusive Opportunity</h3>
<p>Let’s set the stage with a very specific example, straight from a recent conversation:</p>
<p>Imagine it’s <strong>Sunday, June 15, 2025</strong>. You’re viewing your Pipeline Inspection dashboard, focused on the <strong>“This Quarter” (Q2: April 1 — June 30, 2025)</strong> forecast period.</p>
<p>You have an Opportunity with this history:</p>
<ul>
<li>
<p><strong>Original Close Date:</strong> July 4, 2025 (initially in Q3)</p>
</li>
<li>
<p><strong>Change 1:</strong> On <strong>June 4, 2025</strong>, you moved its Close Date from July 4, 2025 <strong>to June 30, 2025</strong>. <em>(This moved the opportunity INTO “This Quarter”)</em></p>
</li>
<li>
<p><strong>Change 2:</strong> On <strong>June 9, 2025</strong>, you moved its Close Date from June 30, 2025 <strong>to August 30, 2025</strong>. <em>(This moved the opportunity OUT of “This Quarter”)</em></p>
</li>
</ul>
<p>Now for the baffling part: You observe that this opportunity <strong>shows up as “Moved Out” when you select ‘Changes Since: This Week’</strong>, but it <strong>does NOT show up when you select ‘Changes Since: 2 Weeks Ago’</strong>.</p>
<p>Why the inconsistency? Let’s unpack it.</p>
<h3 id="dissecting-the-filters-the-starting-point-is-everything">Dissecting the Filters: The “Starting Point” is Everything</h3>
<p>The key to understanding this lies in how Pipeline Inspection defines the <em>start</em> of each “Changes Since” window, and how it uses that starting point to determine “Moved In” or “Moved Out” status relative to your <strong>selected forecast period</strong>.</p>
<h4 id="filter-1-changes-since-thisweek">Filter 1: ‘Changes Since: This Week’</h4>
<ul>
<li>
<p><strong>What it means:</strong> All changes that happened since the very beginning of the current calendar week.</p>
</li>
<li>
<p><strong>Our Start Time (for Sunday, June 15):</strong> Monday, June 9, 2025, 12:00:00 AM EDT.</p>
</li>
<li>
<p>**Analysis:<br>
**– <strong>At the start of this filter (June 9, 12 AM EDT):</strong> Our opportunity’s Close Date was <strong>June 30, 2025</strong>. This date falls <strong>inside</strong> “This Quarter” (April 1 — June 30).<br>
– <strong>During this filter’s window (on June 9):</strong> The Close Date was changed from June 30, 2025, to August 30, 2025. This new date falls <strong>outside</strong> “This Quarter”.<br>
– <strong>Result:</strong> The opportunity was <em>inside</em> “This Quarter” at the start of ‘This Week’ and then moved <em>outside</em> “This Quarter” during ‘This Week’. This perfectly fits the “Moved Out” criteria.<br>
– <strong>Verdict:</strong> <strong>It WILL show up as “Moved Out” in ‘This Week’. (Matches your observation!)</strong></p>
</li>
</ul>
<h4 id="filter-2-changes-since-2-weeksago">Filter 2: ‘Changes Since: 2 Weeks Ago’</h4>
<ul>
<li>
<p><strong>What it means:</strong> All changes that happened since exactly two weeks prior to the current moment.</p>
</li>
<li>
<p><strong>Our Start Time (for Sunday, June 15, 5:53:15 PM EDT):</strong> Sunday, June 1, 2025, 5:53:15 PM EDT.</p>
</li>
<li>
<p>**Analysis:<br>
**– <strong>At the start of this filter (June 1, 5:53:15 PM EDT):</strong> Our opportunity’s Close Date was <strong>July 4, 2025</strong> (because the change to June 30 hadn’t happened yet, as it occurred on June 4).<br>
– Is July 4, 2025 <strong>within</strong> “This Quarter” (April 1 — June 30)? <strong>NO.</strong> (It’s in Q3).<br>
– <strong>Result:</strong> For an opportunity to be “Moved Out” by this filter, it needed to be <em>inside</em> “This Quarter” on June 1. Since it was <em>already outside</em> “This Quarter” at that starting point, it cannot be counted as having “moved out” <em>from that specific perspective</em>. Even though it moved in and then out <em>within</em> the 2-week window, its starting status for this particular filter disqualifies it from the “Moved Out” category.<br>
– <strong>Verdict:</strong> <strong>It will NOT show up as “Moved Out” in ‘2 Weeks Ago’. (Matches your observation!)</strong></p>
</li>
</ul>
<h3 id="the-takeaway-its-all-about-thebaseline">The Takeaway: It’s All About the Baseline</h3>
<p>The critical lesson here is that Salesforce Pipeline Inspection’s “Moved In” and “Moved Out” metrics are calculated by comparing the opportunity’s status <strong>at the exact beginning of your chosen ‘Changes Since’ filter</strong> to its current status, all relative to your <strong>selected Forecast Period</strong>.</p>
<p>It’s not just about when a change happened, but what the opportunity’s state was <em>at the baseline of the comparison</em>. This allows sales managers to accurately understand pipeline dynamics from different historical vantage points.</p>
<p>So, the next time you’re reviewing your pipeline, remember the power of that “Changes Since” filter and how its starting point dictates the story it tells.</p>
<h3 id="what-are-your-pipeline-mysteries">What are your pipeline mysteries?</h3>
<p>Have you encountered similar head-scratching moments in Salesforce Pipeline Inspection? Or perhaps you have other filters or metrics you’d like us to demystify? Share your thoughts, questions, and experiences in the comments below! Let’s build a clearer understanding of our sales data together.</p>
]]></content:encoded></item><item><title>Guide to Using Salesforce Flows for Cross Object Validation</title><link>https://pchavali09.github.io/posts/guide-to-using-salesforce-flows-for-cross-object-validation/</link><pubDate>Sun, 10 Mar 2024 00:00:00 +0000</pubDate><guid>https://pchavali09.github.io/posts/guide-to-using-salesforce-flows-for-cross-object-validation/</guid><description>&lt;p&gt;Salesforce consistently enhances Flows with each release, transforming them into a more robust and user-friendly feature. These improvements simplify usage and effectively address complex requirements that cannot be met through declarative means.&lt;/p&gt;
&lt;p&gt;Did you know you can now implement cross-object validation rules without writing Apex code?&lt;/p&gt;
&lt;p&gt;Until now, if you needed to check related records, like verifying their existence or displaying error messages to prevent record deletion in specific scenarios, or developers had to rely on Apex code.&lt;/p&gt;</description><content:encoded><![CDATA[<p>Salesforce consistently enhances Flows with each release, transforming them into a more robust and user-friendly feature. These improvements simplify usage and effectively address complex requirements that cannot be met through declarative means.</p>
<p>Did you know you can now implement cross-object validation rules without writing Apex code?</p>
<p>Until now, if you needed to check related records, like verifying their existence or displaying error messages to prevent record deletion in specific scenarios, or developers had to rely on Apex code.</p>
<p>In the Winter ’24 release, Salesforce introduced a valuable feature: Custom Error Messages as a Flow Element. This feature offers administrators and developers a practical solution to improve error handling and guide users effectively through Salesforce Flows. Let’s delve into the details of this feature, understand how to utilize it, consider important factors, and explore an illustrative example.</p>
<h4 id="use-casescenario"><strong>Use Case Scenario</strong></h4>
<p>The requirement is to make certain address fields on the Account object conditionally required based on the billing country selected. Specifically, either the State/Province field or the Postal Code/Zip Code field should be required based on the selected billing country. Additionally, in some cases, both the State/Province and Postal Code/Zip Code fields may need to be required.</p>
<p>Traditionally, you’d handle this by creating a complex Validation Rule using nested AND, OR statements or CASE functions to check the selected country and set validation criteria for State/Province and Postal Code/Zip Code fields. Another option is using an Apex trigger. But using Validation Rules can be tricky because they’re hard to maintain, especially when you need to change or update certain criteria.</p>
<p>Let’s see how this can be solved using a record-trigger Flow.</p>
<p><strong>Custom Metadata Type</strong></p>
<p>Create a Custom Metadata Type tailored for storing essential details like Country name, State/Province requirement, and Zip Code requirement. Next, simplify data import by uploading a CSV file containing information for the 50+ countries directly into the Custom Metadata Type.</p>
<p>Below is a sample of the CSV file.</p>
<table>
  <thead>
      <tr>
          <th>Name</th>
          <th>Country__c</th>
          <th>Zip_Required__c</th>
          <th>State_Required__c</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>CA</td>
          <td>Canada</td>
          <td>No</td>
          <td>Yes</td>
      </tr>
      <tr>
          <td>US</td>
          <td>United States</td>
          <td>Yes</td>
          <td>No</td>
      </tr>
      <tr>
          <td>IN</td>
          <td>India</td>
          <td>Yes</td>
          <td>Yes</td>
      </tr>
  </tbody>
</table>
<p><strong>Flow Design</strong></p>
<p>Create a Record Trigger flow on Account object, that’s triggered when a record is created or updated that’s optimized for fast field updates and no conditions. Then add a Get Record element that references to the above created CMTD with country name equals to record’s BillingCountry.</p>
<p>Add a Decision element with condition outcomes to check and compare if Zip or State or both are required when a specific field on Account is null.</p>
<p>Now it’s time to add the Custom Error element! For each of the decision outcome, add Custom Error element. Here are a couple of screenshots of Custom Error element.</p>
<p>Either the error message can be displayed as an inline error or in a window. Note that you can add multiple error messages for one Custom Error element.</p>
<p>![](<a href="https://cdn-images-1.medium.com/max/1000/1">https://cdn-images-1.medium.com/max/1000/1</a>*Agf9RXnRI1BM6vFPw7x4jg.png align=&ldquo;center&rdquo;)</p>
<p>![](<a href="https://cdn-images-1.medium.com/max/400/1">https://cdn-images-1.medium.com/max/400/1</a>*mx8jDd7mkD8GkdYErhea-g.png align=&ldquo;center&rdquo;)</p>
<p>Save and Activate the flow.Flow with Custom Error Element</p>
<p>![Flow with Custom Error Element](<a href="https://cdn-images-1.medium.com/max/1200/1">https://cdn-images-1.medium.com/max/1200/1</a>*i1pjqeKgfKf7ByaMICDFJw.gif align=&ldquo;center&rdquo;)</p>
<p>Voilà! You have now added a custom error without a single line of Apex code or a complex Validation Rule! Now let’s test this out.</p>
<p>![Custom Error Validation on New Account creation](<a href="https://cdn-images-1.medium.com/max/1200/1">https://cdn-images-1.medium.com/max/1200/1</a>*HvY8VQ_HauBbxRt1AmZJyg.gif align=&ldquo;center&rdquo;)</p>
<h3 id="considerations">Considerations</h3>
<ul>
<li>
<p>A Custom Error element can contain only one record page error message. To create another record page error message in the same flow, use another Custom error element.</p>
</li>
<li>
<p>A field can have only one error message, but each field can have an error message.</p>
</li>
<li>
<p>Compound fields aren’t supported.</p>
</li>
<li>
<p>If an executed fault path has a Custom Error element, the change that triggered the flow is rolled back.</p>
</li>
<li>
<p>Custom error messages use the same functionality as the addError() Id method in Apex.</p>
</li>
</ul>
]]></content:encoded></item></channel></rss>